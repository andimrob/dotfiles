#        _ _                   __ _
#   __ _(_) |_ ___ ___  _ __  / _(_) __ _
#  / _` | | __/ __/ _ \| '_ \| |_| |/ _` |
# | (_| | | || (_| (_) | | | |  _| | (_| |
#  \__, |_|\__\___\___/|_| |_|_| |_|\__, |
#  |___/                            |___/

[user]
  name = {{ .name }}
  email = {{ .email }}
  signingkey = {{ onepasswordRead "op://Developer/Personal - Github.com/public key" "my.1password.com" }}

[github]
  user = {{ .githubUsername }}

[gpg]
  format = ssh

[core]
  # editor = code --wait --new-window
  excludesFile = ~/.config/git/ignore
  hooksPath = ~/.config/git/hooks

[init]
  defaultBranch = main
  templatedir = ~/.config/git/template

[commit]
  gpgSign = true
  template = ~/.config/git/message

[color]
  ui = always

[status]
  showUntrackedFiles = all

[transfer]
  # fsckObjects = true

[branch]
  sort = -committerdate

[column]
  branch = auto

[color "status"]
  changed = yellow

[diff]
  tool = default-difftool

[difftool]
  prompt = false

[difftool "default-difftool"]
  cmd = code --wait --new-window --diff $LOCAL $REMOTE
  prompt = false

[merge]
  tool = default-mergetool

[mergetool "default-mergetool"]
  cmd = code --wait --new-window $MERGED

[push]
  default = current

[pull]
  rebase = true

[merge "ours"]
  driver = true

[filter "lfs"]
  clean = git lfs clean %f
  smudge = git lfs smudge %f
  required = true

[pager]
  diff = delta
  log = delta
  reflog = delta
  show = delta

[interactive]
  diffFilter = delta --color-only

[delta]
  features = side-by-side line-numbers decorations
  whitespace-error-style = 22 reverse
  line-numbers = true
  side-by-side = true

[delta "decorations"]
  commit-decoration-style = bold yellow box ul
  file-style = bold yellow ul
  file-decoration-style = none

[rerere]
  enabled = true
  autoUpdate = true

[safe]
  directory = *
{{- if eq .chezmoi.os "darwin" }}

[credential]
  helper = osxkeychain
{{ end -}}

[include]
  # Include aliases.
  path = ~/.config/git/aliases

  # Include extra configuration (if any).
  path = ~/.config/git/local
